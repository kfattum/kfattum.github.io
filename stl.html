<!DOCTYPE html>
<html>
    <head>
        <title>Viewstl Javascript Plugin - Simple Example</title>
        <script src="./javascripts/three.min.js"></script><script src="./javascripts/webgl_detector.js"></script><script src="./javascripts/Projector.js"></script><script src="./javascripts/CanvasRenderer.js"></script><script src="./javascripts/OrbitControls.js"></script></head>
    </head>

    <body>
        <div id="stl_cont" style="width:500px;height:500px;margin:0 auto;"></div>

        <script src="./javascripts/stl_viewer.min.js"></script>
        <script>
            var stl_viewer=new StlViewer (document.getElementById("stl_cont"))
        </script>
                
        <input type="file" onchange='stl_viewer.add_model({local_file:this.files[0]});' accept="*.*">
        <button type="submit" id="submit">start</button>
        
        <div class="form-group">
          <label>info</label>
          <input type="text" id="info">
          <input type="text" id="dims">
          <input type="text" id="volume">
        </div>
        
        <script>
         document.querySelector("#submit").onclick = function(){

         var info = JSON.stringify(stl_viewer.get_model_info(1));
        
         var data = JSON.parse(info);
         var dims = data.dims;
         var volume = data.volume;
        
         document.getElementById('info').value = info;       
         document.getElementById('dims').value = JSON.stringify(dims);
         document.getElementById('volume').value = volume.toFixed(0);
         };
         
        </script>
           
    </body>
</html>
